import n from"d3-quadtree";import t from"d3-collection";import e from"d3-dispatch";import i from"d3-timer";var r={};(function(o,f){f(r,n,t,e,i)})(r,(function(n,t,e,i,r){function center(n,t){var e;null==n&&(n=0);null==t&&(t=0);function force(){var i,r=e.length,o,f=0,c=0;for(i=0;i<r;++i)o=e[i],f+=o.x,c+=o.y;for(f=f/r-n,c=c/r-t,i=0;i<r;++i)o=e[i],o.x-=f,o.y-=c}force.initialize=function(n){e=n};force.x=function(t){return arguments.length?(n=+t,force):n};force.y=function(n){return arguments.length?(t=+n,force):t};return force}function constant(n){return function(){return n}}function jiggle(){return 1e-6*(Math.random()-.5)}function x(n){return n.x+n.vx}function y(n){return n.y+n.vy}function collide(n){var e,i,r=1,o=1;"function"!==typeof n&&(n=constant(null==n?1:+n));function force(){var n,f=e.length,c,a,u,l,s,g;for(var h=0;h<o;++h){c=t.quadtree(e,x,y).visitAfter(prepare);for(n=0;n<f;++n){a=e[n];s=i[a.index],g=s*s;u=a.x+a.vx;l=a.y+a.vy;c.visit(apply)}}function apply(n,t,e,i,o){var f=n.data,c=n.r,h=s+c;if(!f)return t>u+h||i<u-h||e>l+h||o<l-h;if(f.index>a.index){var v=u-f.x-f.vx,d=l-f.y-f.vy,p=v*v+d*d;if(p<h*h){0===v&&(v=jiggle(),p+=v*v);0===d&&(d=jiggle(),p+=d*d);p=(h-(p=Math.sqrt(p)))/p*r;a.vx+=(v*=p)*(h=(c*=c)/(g+c));a.vy+=(d*=p)*h;f.vx-=v*(h=1-h);f.vy-=d*h}}}}function prepare(n){if(n.data)return n.r=i[n.data.index];for(var t=n.r=0;t<4;++t)n[t]&&n[t].r>n.r&&(n.r=n[t].r)}function initialize(){if(e){var t,r=e.length,o;i=new Array(r);for(t=0;t<r;++t)o=e[t],i[o.index]=+n(o,t,e)}}force.initialize=function(n){e=n;initialize()};force.iterations=function(n){return arguments.length?(o=+n,force):o};force.strength=function(n){return arguments.length?(r=+n,force):r};force.radius=function(t){return arguments.length?(n="function"===typeof t?t:constant(+t),initialize(),force):n};return force}function index(n){return n.index}function find(n,t){var e=n.get(t);if(!e)throw new Error("missing: "+t);return e}function link(n){var t=index,i=defaultStrength,r,o=constant(30),f,c,a,u,l=1;null==n&&(n=[]);function defaultStrength(n){return 1/Math.min(a[n.source.index],a[n.target.index])}function force(t){for(var e=0,i=n.length;e<l;++e)for(var o=0,c,a,s,g,h,v,d;o<i;++o){c=n[o],a=c.source,s=c.target;g=s.x+s.vx-a.x-a.vx||jiggle();h=s.y+s.vy-a.y-a.vy||jiggle();v=Math.sqrt(g*g+h*h);v=(v-f[o])/v*t*r[o];g*=v,h*=v;s.vx-=g*(d=u[o]);s.vy-=h*d;a.vx+=g*(d=1-d);a.vy+=h*d}}function initialize(){if(c){var i,o=c.length,l=n.length,s=e.map(c,t),g;for(i=0,a=new Array(o);i<l;++i){g=n[i],g.index=i;"object"!==typeof g.source&&(g.source=find(s,g.source));"object"!==typeof g.target&&(g.target=find(s,g.target));a[g.source.index]=(a[g.source.index]||0)+1;a[g.target.index]=(a[g.target.index]||0)+1}for(i=0,u=new Array(l);i<l;++i)g=n[i],u[i]=a[g.source.index]/(a[g.source.index]+a[g.target.index]);r=new Array(l),initializeStrength();f=new Array(l),initializeDistance()}}function initializeStrength(){if(c)for(var t=0,e=n.length;t<e;++t)r[t]=+i(n[t],t,n)}function initializeDistance(){if(c)for(var t=0,e=n.length;t<e;++t)f[t]=+o(n[t],t,n)}force.initialize=function(n){c=n;initialize()};force.links=function(t){return arguments.length?(n=t,initialize(),force):n};force.id=function(n){return arguments.length?(t=n,force):t};force.iterations=function(n){return arguments.length?(l=+n,force):l};force.strength=function(n){return arguments.length?(i="function"===typeof n?n:constant(+n),initializeStrength(),force):i};force.distance=function(n){return arguments.length?(o="function"===typeof n?n:constant(+n),initializeDistance(),force):o};return force}function x$1(n){return n.x}function y$1(n){return n.y}var o=10,f=Math.PI*(3-Math.sqrt(5));function simulation(n){var t,c=1,a=.001,u=1-Math.pow(a,1/300),l=0,s=.6,g=e.map(),h=r.timer(step),v=i.dispatch("tick","end");null==n&&(n=[]);function step(){tick();v.call("tick",t);if(c<a){h.stop();v.call("end",t)}}function tick(e){var i,r=n.length,o;void 0===e&&(e=1);for(var f=0;f<e;++f){c+=(l-c)*u;g.each((function(n){n(c)}));for(i=0;i<r;++i){o=n[i];null==o.fx?o.x+=o.vx*=s:(o.x=o.fx,o.vx=0);null==o.fy?o.y+=o.vy*=s:(o.y=o.fy,o.vy=0)}}return t}function initializeNodes(){for(var t=0,e=n.length,i;t<e;++t){i=n[t],i.index=t;null!=i.fx&&(i.x=i.fx);null!=i.fy&&(i.y=i.fy);if(isNaN(i.x)||isNaN(i.y)){var r=o*Math.sqrt(t),c=t*f;i.x=r*Math.cos(c);i.y=r*Math.sin(c)}(isNaN(i.vx)||isNaN(i.vy))&&(i.vx=i.vy=0)}}function initializeForce(t){t.initialize&&t.initialize(n);return t}initializeNodes();return t={tick:tick,restart:function(){return h.restart(step),t},stop:function(){return h.stop(),t},nodes:function(e){return arguments.length?(n=e,initializeNodes(),g.each(initializeForce),t):n},alpha:function(n){return arguments.length?(c=+n,t):c},alphaMin:function(n){return arguments.length?(a=+n,t):a},alphaDecay:function(n){return arguments.length?(u=+n,t):+u},alphaTarget:function(n){return arguments.length?(l=+n,t):l},velocityDecay:function(n){return arguments.length?(s=1-n,t):1-s},force:function(n,e){return arguments.length>1?(null==e?g.remove(n):g.set(n,initializeForce(e)),t):g.get(n)},find:function(t,e,i){var r=0,o=n.length,f,c,a,u,l;null==i?i=Infinity:i*=i;for(r=0;r<o;++r){u=n[r];f=t-u.x;c=e-u.y;a=f*f+c*c;a<i&&(l=u,i=a)}return l},on:function(n,e){return arguments.length>1?(v.on(n,e),t):v.on(n)}}}function manyBody(){var n,e,i,r=constant(-30),o,f=1,c=Infinity,a=.81;function force(r){var o,f=n.length,c=t.quadtree(n,x$1,y$1).visitAfter(accumulate);for(i=r,o=0;o<f;++o)e=n[o],c.visit(apply)}function initialize(){if(n){var t,e=n.length,i;o=new Array(e);for(t=0;t<e;++t)i=n[t],o[i.index]=+r(i,t,n)}}function accumulate(n){var t=0,e,i,r=0,f,c,a;if(n.length){for(f=c=a=0;a<4;++a)(e=n[a])&&(i=Math.abs(e.value))&&(t+=e.value,r+=i,f+=i*e.x,c+=i*e.y);n.x=f/r;n.y=c/r}else{e=n;e.x=e.data.x;e.y=e.data.y;do{t+=o[e.data.index]}while(e=e.next)}n.value=t}function apply(n,t,r,u){if(!n.value)return true;var l=n.x-e.x,s=n.y-e.y,g=u-t,h=l*l+s*s;if(g*g/a<h){if(h<c){0===l&&(l=jiggle(),h+=l*l);0===s&&(s=jiggle(),h+=s*s);h<f&&(h=Math.sqrt(f*h));e.vx+=l*n.value*i/h;e.vy+=s*n.value*i/h}return true}if(!(n.length||h>=c)){if(n.data!==e||n.next){0===l&&(l=jiggle(),h+=l*l);0===s&&(s=jiggle(),h+=s*s);h<f&&(h=Math.sqrt(f*h))}do{if(n.data!==e){g=o[n.data.index]*i/h;e.vx+=l*g;e.vy+=s*g}}while(n=n.next)}}force.initialize=function(t){n=t;initialize()};force.strength=function(n){return arguments.length?(r="function"===typeof n?n:constant(+n),initialize(),force):r};force.distanceMin=function(n){return arguments.length?(f=n*n,force):Math.sqrt(f)};force.distanceMax=function(n){return arguments.length?(c=n*n,force):Math.sqrt(c)};force.theta=function(n){return arguments.length?(a=n*n,force):Math.sqrt(a)};return force}function radial(n,t,e){var i,r=constant(.1),o,f;"function"!==typeof n&&(n=constant(+n));null==t&&(t=0);null==e&&(e=0);function force(n){for(var r=0,c=i.length;r<c;++r){var a=i[r],u=a.x-t||1e-6,l=a.y-e||1e-6,s=Math.sqrt(u*u+l*l),g=(f[r]-s)*o[r]*n/s;a.vx+=u*g;a.vy+=l*g}}function initialize(){if(i){var t,e=i.length;o=new Array(e);f=new Array(e);for(t=0;t<e;++t){f[t]=+n(i[t],t,i);o[t]=isNaN(f[t])?0:+r(i[t],t,i)}}}force.initialize=function(n){i=n,initialize()};force.strength=function(n){return arguments.length?(r="function"===typeof n?n:constant(+n),initialize(),force):r};force.radius=function(t){return arguments.length?(n="function"===typeof t?t:constant(+t),initialize(),force):n};force.x=function(n){return arguments.length?(t=+n,force):t};force.y=function(n){return arguments.length?(e=+n,force):e};return force}function x$2(n){var t=constant(.1),e,i,r;"function"!==typeof n&&(n=constant(null==n?0:+n));function force(n){for(var t=0,o=e.length,f;t<o;++t)f=e[t],f.vx+=(r[t]-f.x)*i[t]*n}function initialize(){if(e){var o,f=e.length;i=new Array(f);r=new Array(f);for(o=0;o<f;++o)i[o]=isNaN(r[o]=+n(e[o],o,e))?0:+t(e[o],o,e)}}force.initialize=function(n){e=n;initialize()};force.strength=function(n){return arguments.length?(t="function"===typeof n?n:constant(+n),initialize(),force):t};force.x=function(t){return arguments.length?(n="function"===typeof t?t:constant(+t),initialize(),force):n};return force}function y$2(n){var t=constant(.1),e,i,r;"function"!==typeof n&&(n=constant(null==n?0:+n));function force(n){for(var t=0,o=e.length,f;t<o;++t)f=e[t],f.vy+=(r[t]-f.y)*i[t]*n}function initialize(){if(e){var o,f=e.length;i=new Array(f);r=new Array(f);for(o=0;o<f;++o)i[o]=isNaN(r[o]=+n(e[o],o,e))?0:+t(e[o],o,e)}}force.initialize=function(n){e=n;initialize()};force.strength=function(n){return arguments.length?(t="function"===typeof n?n:constant(+n),initialize(),force):t};force.y=function(t){return arguments.length?(n="function"===typeof t?t:constant(+t),initialize(),force):n};return force}n.forceCenter=center;n.forceCollide=collide;n.forceLink=link;n.forceManyBody=manyBody;n.forceRadial=radial;n.forceSimulation=simulation;n.forceX=x$2;n.forceY=y$2;Object.defineProperty(n,"__esModule",{value:true})}));const o=r.forceCenter,f=r.forceCollide,c=r.forceLink,a=r.forceManyBody,u=r.forceRadial,l=r.forceSimulation,s=r.forceX,g=r.forceY,h=r.__esModule;export default r;export{h as __esModule,o as forceCenter,f as forceCollide,c as forceLink,a as forceManyBody,u as forceRadial,l as forceSimulation,s as forceX,g as forceY};

