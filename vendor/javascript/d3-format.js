var t="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:global;var r={};(function(t,e){e(r)})(r,(function(r){function formatDecimal(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function formatDecimalParts(t,r){if((e=(t=r?t.toExponential(r-1):t.toExponential()).indexOf("e"))<0)return null;var e,i=t.slice(0,e);return[i.length>1?i[0]+i.slice(2):i,+t.slice(e+1)]}function exponent(t){return t=formatDecimalParts(Math.abs(t)),t?t[1]:NaN}function formatGroup(t,r){return function(e,i){var n=e.length,o=[],a=0,f=t[0],c=0;while(n>0&&f>0){c+f+1>i&&(f=Math.max(1,i-c));o.push(e.substring(n-=f,n+f));if((c+=f+1)>i)break;f=t[a=(a+1)%t.length]}return o.reverse().join(r)}}function formatNumerals(t){return function(r){return r.replace(/[0-9]/g,(function(r){return t[+r]}))}}var e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(t){if(!(r=e.exec(t)))throw new Error("invalid format: "+t);var r;return new FormatSpecifier({fill:r[1],align:r[2],sign:r[3],symbol:r[4],zero:r[5],width:r[6],comma:r[7],precision:r[8]&&r[8].slice(1),trim:r[9],type:r[10]})}formatSpecifier.prototype=FormatSpecifier.prototype;function FormatSpecifier(r){(this||t).fill=void 0===r.fill?" ":r.fill+"";(this||t).align=void 0===r.align?">":r.align+"";(this||t).sign=void 0===r.sign?"-":r.sign+"";(this||t).symbol=void 0===r.symbol?"":r.symbol+"";(this||t).zero=!!r.zero;(this||t).width=void 0===r.width?void 0:+r.width;(this||t).comma=!!r.comma;(this||t).precision=void 0===r.precision?void 0:+r.precision;(this||t).trim=!!r.trim;(this||t).type=void 0===r.type?"":r.type+""}FormatSpecifier.prototype.toString=function(){return(this||t).fill+(this||t).align+(this||t).sign+(this||t).symbol+((this||t).zero?"0":"")+(void 0===(this||t).width?"":Math.max(1,0|(this||t).width))+((this||t).comma?",":"")+(void 0===(this||t).precision?"":"."+Math.max(0,0|(this||t).precision))+((this||t).trim?"~":"")+(this||t).type};function formatTrim(t){t:for(var r=t.length,e=1,i=-1,n;e<r;++e)switch(t[e]){case".":i=n=e;break;case"0":0===i&&(i=e);n=e;break;default:if(!+t[e])break t;i>0&&(i=0);break}return i>0?t.slice(0,i)+t.slice(n+1):t}var i;function formatPrefixAuto(t,r){var e=formatDecimalParts(t,r);if(!e)return t+"";var n=e[0],o=e[1],a=o-(i=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,f=n.length;return a===f?n:a>f?n+new Array(a-f+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+formatDecimalParts(t,Math.max(0,r+a-1))[0]}function formatRounded(t,r){var e=formatDecimalParts(t,r);if(!e)return t+"";var i=e[0],n=e[1];return n<0?"0."+new Array(-n).join("0")+i:i.length>n+1?i.slice(0,n+1)+"."+i.slice(n+1):i+new Array(n-i.length+2).join("0")}var n={"%":function(t,r){return(100*t).toFixed(r)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:formatDecimal,e:function(t,r){return t.toExponential(r)},f:function(t,r){return t.toFixed(r)},g:function(t,r){return t.toPrecision(r)},o:function(t){return Math.round(t).toString(8)},p:function(t,r){return formatRounded(100*t,r)},r:formatRounded,s:formatPrefixAuto,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function identity(t){return t}var o=Array.prototype.map,a=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function formatLocale(t){var r=void 0===t.grouping||void 0===t.thousands?identity:formatGroup(o.call(t.grouping,Number),t.thousands+""),e=void 0===t.currency?"":t.currency[0]+"",f=void 0===t.currency?"":t.currency[1]+"",c=void 0===t.decimal?".":t.decimal+"",u=void 0===t.numerals?identity:formatNumerals(o.call(t.numerals,String)),s=void 0===t.percent?"%":t.percent+"",l=void 0===t.minus?"-":t.minus+"",m=void 0===t.nan?"NaN":t.nan+"";function newFormat(t){t=formatSpecifier(t);var o=t.fill,h=t.align,p=t.sign,d=t.symbol,g=t.zero,v=t.width,x=t.comma,y=t.precision,M=t.trim,b=t.type;"n"===b?(x=true,b="g"):n[b]||(void 0===y&&(y=12),M=true,b="g");(g||"0"===o&&"="===h)&&(g=true,o="0",h="=");var w="$"===d?e:"#"===d&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",S="$"===d?f:/[%p]/.test(b)?s:"";var P=n[b],F=/[defgprs%]/.test(b);y=void 0===y?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function format(t){var e=w,n=S,f,s,d;if("c"===b){n=P(t)+n;t=""}else{t=+t;var L=t<0||1/t<0;t=isNaN(t)?m:P(Math.abs(t),y);M&&(t=formatTrim(t));L&&0===+t&&"+"!==p&&(L=false);e=(L?"("===p?p:l:"-"===p||"("===p?"":p)+e;n=("s"===b?a[8+i/3]:"")+n+(L&&"("===p?")":"");if(F){f=-1,s=t.length;while(++f<s)if(d=t.charCodeAt(f),48>d||d>57){n=(46===d?c+t.slice(f+1):t.slice(f))+n;t=t.slice(0,f);break}}}x&&!g&&(t=r(t,Infinity));var k=e.length+t.length+n.length,A=k<v?new Array(v-k+1).join(o):"";x&&g&&(t=r(A+t,A.length?v-n.length:Infinity),A="");switch(h){case"<":t=e+t+n+A;break;case"=":t=e+A+t+n;break;case"^":t=A.slice(0,k=A.length>>1)+e+t+n+A.slice(k);break;default:t=A+e+t+n;break}return u(t)}format.toString=function(){return t+""};return format}function formatPrefix(t,r){var e=newFormat((t=formatSpecifier(t),t.type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(exponent(r)/3))),n=Math.pow(10,-i),o=a[8+i/3];return function(t){return e(n*t)+o}}return{format:newFormat,formatPrefix:formatPrefix}}var f;defaultLocale({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function defaultLocale(t){f=formatLocale(t);r.format=f.format;r.formatPrefix=f.formatPrefix;return f}function precisionFixed(t){return Math.max(0,-exponent(Math.abs(t)))}function precisionPrefix(t,r){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(exponent(r)/3)))-exponent(Math.abs(t)))}function precisionRound(t,r){t=Math.abs(t),r=Math.abs(r)-t;return Math.max(0,exponent(r)-exponent(t))+1}r.FormatSpecifier=FormatSpecifier;r.formatDefaultLocale=defaultLocale;r.formatLocale=formatLocale;r.formatSpecifier=formatSpecifier;r.precisionFixed=precisionFixed;r.precisionPrefix=precisionPrefix;r.precisionRound=precisionRound;Object.defineProperty(r,"__esModule",{value:true})}));const e=r.format,i=r.formatPrefix,n=r.FormatSpecifier,o=r.formatDefaultLocale,a=r.formatLocale,f=r.formatSpecifier,c=r.precisionFixed,u=r.precisionPrefix,s=r.precisionRound,l=r.__esModule;export default r;export{n as FormatSpecifier,l as __esModule,e as format,o as formatDefaultLocale,a as formatLocale,i as formatPrefix,f as formatSpecifier,c as precisionFixed,u as precisionPrefix,s as precisionRound};

